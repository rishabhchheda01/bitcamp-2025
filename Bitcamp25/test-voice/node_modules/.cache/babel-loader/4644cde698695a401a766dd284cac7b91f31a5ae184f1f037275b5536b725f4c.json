{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kheri\\\\Downloads\\\\Bitcamp\\\\bitcamp-2025\\\\Bitcamp25\\\\test-voice\\\\src\\\\components\\\\Finance.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport capitalOneService from '../services/capitalOneService';\nimport AccountList from './finance/AccountList';\nimport CustomerInfo from './finance/CustomerInfo';\nimport TransactionHistory from './finance/TransactionHistory';\nimport AccountActions from './finance/AccountActions';\nimport BranchLocator from './finance/BranchLocator';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Finance = () => {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [accounts, setAccounts] = useState([]);\n  const [customers, setCustomers] = useState([]);\n  const [selectedAccount, setSelectedAccount] = useState(null);\n  const [selectedCustomer, setSelectedCustomer] = useState(null);\n  const [transactions, setTransactions] = useState([]);\n  const [activeView, setActiveView] = useState('accounts'); // accounts, customer, transactions, actions, branches\n  const [initializingData, setInitializingData] = useState(false);\n  // API status display\n  const [apiStatus, setApiStatus] = useState(null);\n  // Add a state to track the current endpoint\n  const [currentEndpoint, setCurrentEndpoint] = useState('');\n\n  // Listen for API status messages\n  useEffect(() => {\n    const handleApiStatusMessage = event => {\n      if (event.data && event.data.type === 'API_STATUS') {\n        setApiStatus({\n          ...event.data,\n          timestamp: new Date()\n        });\n\n        // Extract and set the current endpoint\n        if (event.data.status === 'request') {\n          const message = event.data.message;\n          const match = message.match(/API REQUEST: \\w+ (\\/[^\\s]+)/);\n          if (match && match[1]) {\n            setCurrentEndpoint(match[1]);\n          }\n        }\n\n        // Clear status after 5 seconds\n        setTimeout(() => {\n          setApiStatus(null);\n        }, 5000);\n      }\n    };\n\n    // Add listener for postMessage events\n    window.addEventListener('message', handleApiStatusMessage);\n\n    // Set up console.log override to capture API calls\n    const originalConsoleLog = console.log;\n    console.log = function () {\n      // Call the original console.log\n      originalConsoleLog.apply(console, arguments);\n\n      // Check if this is an API request log\n      const args = Array.from(arguments).join(' ');\n      if (args.includes('API REQUEST:')) {\n        window.postMessage({\n          type: 'API_STATUS',\n          status: 'request',\n          message: args\n        }, '*');\n      } else if (args.includes('Response from')) {\n        window.postMessage({\n          type: 'API_STATUS',\n          status: 'response',\n          message: args\n        }, '*');\n      } else if (args.includes('API Error') || args.includes('CORS or network issue')) {\n        window.postMessage({\n          type: 'API_STATUS',\n          status: 'error',\n          message: args\n        }, '*');\n      }\n    };\n\n    // Cleanup\n    return () => {\n      window.removeEventListener('message', handleApiStatusMessage);\n      console.log = originalConsoleLog;\n    };\n  }, []);\n  useEffect(() => {\n    const fetchInitialData = async () => {\n      try {\n        setLoading(true);\n\n        // Fetch accounts and customers\n        let accountsData = await capitalOneService.getAccounts();\n        let customersData = await capitalOneService.getCustomers();\n\n        // Check if we need to create test data\n        if (!accountsData || accountsData.length === 0 || !customersData || customersData.length === 0) {\n          // Show initializing status\n          setInitializingData(true);\n\n          // Create test data if no data exists\n          const testData = await createTestData();\n          if (testData) {\n            accountsData = testData.accounts;\n            customersData = testData.customers;\n          }\n        }\n        setAccounts(accountsData || []);\n        setCustomers(customersData || []);\n\n        // Select the first account by default\n        if (accountsData && accountsData.length > 0) {\n          setSelectedAccount(accountsData[0]);\n          try {\n            // Get the customer associated with this account\n            const customerData = await capitalOneService.getCustomerByAccount(accountsData[0]._id);\n            setSelectedCustomer(customerData);\n          } catch (err) {\n            console.log(\"Could not fetch customer for account, using first customer instead\");\n            if (customersData && customersData.length > 0) {\n              setSelectedCustomer(customersData[0]);\n            }\n          }\n\n          // Get transactions (deposits, withdrawals, transfers) for this account\n          await fetchTransactions(accountsData[0]._id);\n        }\n        setInitializingData(false);\n        setLoading(false);\n      } catch (err) {\n        console.error(\"Error in fetchInitialData:\", err);\n        setError(err.message || 'Failed to fetch data');\n        setInitializingData(false);\n        setLoading(false);\n      }\n    };\n    fetchInitialData();\n  }, []);\n\n  // Function to create test data if none exists\n  const createTestData = async () => {\n    try {\n      console.log(\"Creating test data...\");\n\n      // Create a test customer\n      const customerData = {\n        first_name: \"John\",\n        last_name: \"Doe\",\n        address: {\n          street_number: \"123\",\n          street_name: \"Main St\",\n          city: \"Washington\",\n          state: \"DC\",\n          zip: \"20001\"\n        }\n      };\n      const customerResponse = await capitalOneService.createCustomer(customerData);\n      console.log(\"Created customer:\", customerResponse);\n\n      // Get the customer ID from the response\n      let customerId;\n      if (customerResponse && customerResponse.objectCreated) {\n        customerId = customerResponse.objectCreated._id;\n      } else if (customerResponse && customerResponse._id) {\n        customerId = customerResponse._id;\n      } else {\n        // Try to get first customer if we couldn't create one\n        const customers = await capitalOneService.getCustomers();\n        if (customers && customers.length > 0) {\n          customerId = customers[0]._id;\n        } else {\n          throw new Error(\"Failed to create or find a customer\");\n        }\n      }\n\n      // Create a checking account\n      const checkingAccountData = {\n        type: \"Checking\",\n        nickname: \"Primary Checking\",\n        rewards: 10,\n        balance: 5000,\n        account_number: \"123456789\"\n      };\n      const savingsAccountData = {\n        type: \"Savings\",\n        nickname: \"Emergency Fund\",\n        rewards: 25,\n        balance: 10000,\n        account_number: \"987654321\"\n      };\n      const creditAccountData = {\n        type: \"Credit Card\",\n        nickname: \"Rewards Card\",\n        rewards: 100,\n        balance: 1500,\n        account_number: \"555555555\"\n      };\n\n      // Create accounts\n      const checkingResponse = await capitalOneService.createAccount(customerId, checkingAccountData);\n      const savingsResponse = await capitalOneService.createAccount(customerId, savingsAccountData);\n      const creditResponse = await capitalOneService.createAccount(customerId, creditAccountData);\n      console.log(\"Created accounts:\", checkingResponse, savingsResponse, creditResponse);\n\n      // Get created accounts\n      const accounts = await capitalOneService.getCustomerAccounts(customerId);\n      const customers = await capitalOneService.getCustomers();\n\n      // Create some sample transactions if accounts were created\n      if (accounts && accounts.length > 0) {\n        // Create deposit\n        await capitalOneService.createDeposit(accounts[0]._id, {\n          medium: \"balance\",\n          transaction_date: new Date().toISOString().split('T')[0],\n          status: \"completed\",\n          amount: 1000,\n          description: \"Salary deposit\"\n        });\n\n        // Create withdrawal\n        await capitalOneService.createWithdrawal(accounts[0]._id, {\n          medium: \"balance\",\n          transaction_date: new Date().toISOString().split('T')[0],\n          status: \"completed\",\n          amount: 250,\n          description: \"ATM withdrawal\"\n        });\n\n        // Create transfer between accounts if we have multiple\n        if (accounts.length > 1) {\n          await capitalOneService.createTransfer(accounts[0]._id, {\n            medium: \"balance\",\n            payee_id: accounts[1]._id,\n            transaction_date: new Date().toISOString().split('T')[0],\n            status: \"completed\",\n            amount: 500,\n            description: \"Transfer to savings\"\n          });\n        }\n      }\n      return {\n        accounts,\n        customers\n      };\n    } catch (err) {\n      console.error(\"Error creating test data:\", err);\n      return null;\n    }\n  };\n  const fetchTransactions = async accountId => {\n    try {\n      // Fetch deposits, withdrawals, and transfers for the account\n      let deposits = [];\n      let withdrawals = [];\n      let transfers = [];\n      try {\n        deposits = await capitalOneService.getAccountDeposits(accountId);\n      } catch (e) {\n        console.log(\"Error fetching deposits:\", e);\n      }\n      try {\n        withdrawals = await capitalOneService.getAccountWithdrawals(accountId);\n      } catch (e) {\n        console.log(\"Error fetching withdrawals:\", e);\n      }\n      try {\n        transfers = await capitalOneService.getAccountTransfers(accountId);\n      } catch (e) {\n        console.log(\"Error fetching transfers:\", e);\n      }\n\n      // Combine and format transactions\n      const allTransactions = [...(Array.isArray(deposits) ? deposits.map(d => ({\n        ...d,\n        type: 'deposit'\n      })) : []), ...(Array.isArray(withdrawals) ? withdrawals.map(w => ({\n        ...w,\n        type: 'withdrawal'\n      })) : []), ...(Array.isArray(transfers) ? transfers.map(t => ({\n        ...t,\n        type: 'transfer'\n      })) : [])];\n\n      // Sort by date (newest first)\n      allTransactions.sort((a, b) => {\n        const dateA = new Date(a.transaction_date || a.payment_date || 0);\n        const dateB = new Date(b.transaction_date || b.payment_date || 0);\n        return dateB - dateA;\n      });\n      setTransactions(allTransactions);\n    } catch (err) {\n      console.error(\"Error in fetchTransactions:\", err);\n      setError(err.message || 'Failed to fetch transactions');\n    }\n  };\n  const handleAccountSelect = async account => {\n    setSelectedAccount(account);\n    try {\n      // Get customer for this account\n      try {\n        const customerData = await capitalOneService.getCustomerByAccount(account._id);\n        setSelectedCustomer(customerData);\n      } catch (err) {\n        console.log(\"Could not fetch customer for account:\", err);\n        // If we can't get the customer by account, just use the first customer\n        if (customers && customers.length > 0) {\n          setSelectedCustomer(customers[0]);\n        }\n      }\n\n      // Get transactions for this account\n      await fetchTransactions(account._id);\n    } catch (err) {\n      console.error(\"Error in handleAccountSelect:\", err);\n      setError(err.message || 'Failed to fetch account details');\n    }\n  };\n  const handleCreateDeposit = async depositData => {\n    try {\n      await capitalOneService.createDeposit(selectedAccount._id, depositData);\n\n      // Refresh account data and transactions\n      const updatedAccount = await capitalOneService.getAccountById(selectedAccount._id);\n      setSelectedAccount(updatedAccount);\n      await fetchTransactions(selectedAccount._id);\n      return {\n        success: true\n      };\n    } catch (err) {\n      console.error(\"Error creating deposit:\", err);\n      setError(err.message || 'Failed to create deposit');\n      return {\n        success: false,\n        error: err.message\n      };\n    }\n  };\n  const handleCreateWithdrawal = async withdrawalData => {\n    try {\n      await capitalOneService.createWithdrawal(selectedAccount._id, withdrawalData);\n\n      // Refresh account data and transactions\n      const updatedAccount = await capitalOneService.getAccountById(selectedAccount._id);\n      setSelectedAccount(updatedAccount);\n      await fetchTransactions(selectedAccount._id);\n      return {\n        success: true\n      };\n    } catch (err) {\n      console.error(\"Error creating withdrawal:\", err);\n      setError(err.message || 'Failed to create withdrawal');\n      return {\n        success: false,\n        error: err.message\n      };\n    }\n  };\n  const handleCreateTransfer = async transferData => {\n    try {\n      await capitalOneService.createTransfer(selectedAccount._id, transferData);\n\n      // Refresh account data and transactions\n      const updatedAccount = await capitalOneService.getAccountById(selectedAccount._id);\n      setSelectedAccount(updatedAccount);\n      await fetchTransactions(selectedAccount._id);\n      return {\n        success: true\n      };\n    } catch (err) {\n      console.error(\"Error creating transfer:\", err);\n      setError(err.message || 'Failed to create transfer');\n      return {\n        success: false,\n        error: err.message\n      };\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"finance-dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"section-title\",\n      children: \"Capital One Banking Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"current-endpoint\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"endpoint-label\",\n        children: \"Current API Endpoint:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"endpoint-value\",\n        children: currentEndpoint || 'None'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"api-key-display\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"api-key-label\",\n          children: \"API Key:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"api-key-value\",\n          children: \"f1fbb5f9a7bfdc1597fafdf76476cfa7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 7\n    }, this), apiStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `api-status-indicator ${apiStatus.status}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"api-status-icon\",\n        children: apiStatus.status === 'request' ? 'üîÑ' : apiStatus.status === 'response' ? '‚úÖ' : '‚ùå'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"api-status-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"api-status-message\",\n          children: apiStatus.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"api-status-time\",\n          children: apiStatus.timestamp.toLocaleTimeString()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"finance-tabs\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `finance-tab ${activeView === 'accounts' ? 'active' : ''}`,\n        onClick: () => setActiveView('accounts'),\n        children: \"Accounts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `finance-tab ${activeView === 'customer' ? 'active' : ''}`,\n        onClick: () => setActiveView('customer'),\n        children: \"Customer Info\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `finance-tab ${activeView === 'transactions' ? 'active' : ''}`,\n        onClick: () => setActiveView('transactions'),\n        children: \"Transactions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `finance-tab ${activeView === 'actions' ? 'active' : ''}`,\n        onClick: () => setActiveView('actions'),\n        children: \"Account Actions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `finance-tab ${activeView === 'branches' ? 'active' : ''}`,\n        onClick: () => setActiveView('branches'),\n        children: \"Branch Locator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 7\n    }, this), selectedAccount && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"current-account-summary\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [\"Selected Account: \", selectedAccount.nickname || selectedAccount._id]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"account-balance\",\n        children: [\"Balance: $\", selectedAccount.balance ? selectedAccount.balance.toFixed(2) : '0.00']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"account-type\",\n        children: [\"Type: \", selectedAccount.type]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Error: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => window.location.reload(),\n        children: \"Retry\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 9\n    }, this), (loading || initializingData) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\",\n        children: initializingData ? 'Creating sample data...' : 'Loading...'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"finance-content\",\n      children: [activeView === 'accounts' && /*#__PURE__*/_jsxDEV(AccountList, {\n        accounts: accounts,\n        selectedAccount: selectedAccount,\n        onSelectAccount: handleAccountSelect\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 11\n      }, this), activeView === 'customer' && selectedCustomer && /*#__PURE__*/_jsxDEV(CustomerInfo, {\n        customer: selectedCustomer\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 11\n      }, this), activeView === 'transactions' && /*#__PURE__*/_jsxDEV(TransactionHistory, {\n        transactions: transactions,\n        accountId: selectedAccount === null || selectedAccount === void 0 ? void 0 : selectedAccount._id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 11\n      }, this), activeView === 'actions' && /*#__PURE__*/_jsxDEV(AccountActions, {\n        account: selectedAccount,\n        onCreateDeposit: handleCreateDeposit,\n        onCreateWithdrawal: handleCreateWithdrawal,\n        onCreateTransfer: handleCreateTransfer,\n        accounts: accounts\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 11\n      }, this), activeView === 'branches' && /*#__PURE__*/_jsxDEV(BranchLocator, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 386,\n    columnNumber: 5\n  }, this);\n};\n_s(Finance, \"yrakLsBC48X0mIRskIa4x7Kddt4=\");\n_c = Finance;\nexport default Finance;\nvar _c;\n$RefreshReg$(_c, \"Finance\");","map":{"version":3,"names":["React","useState","useEffect","capitalOneService","AccountList","CustomerInfo","TransactionHistory","AccountActions","BranchLocator","jsxDEV","_jsxDEV","Finance","_s","loading","setLoading","error","setError","accounts","setAccounts","customers","setCustomers","selectedAccount","setSelectedAccount","selectedCustomer","setSelectedCustomer","transactions","setTransactions","activeView","setActiveView","initializingData","setInitializingData","apiStatus","setApiStatus","currentEndpoint","setCurrentEndpoint","handleApiStatusMessage","event","data","type","timestamp","Date","status","message","match","setTimeout","window","addEventListener","originalConsoleLog","console","log","apply","arguments","args","Array","from","join","includes","postMessage","removeEventListener","fetchInitialData","accountsData","getAccounts","customersData","getCustomers","length","testData","createTestData","customerData","getCustomerByAccount","_id","err","fetchTransactions","first_name","last_name","address","street_number","street_name","city","state","zip","customerResponse","createCustomer","customerId","objectCreated","Error","checkingAccountData","nickname","rewards","balance","account_number","savingsAccountData","creditAccountData","checkingResponse","createAccount","savingsResponse","creditResponse","getCustomerAccounts","createDeposit","medium","transaction_date","toISOString","split","amount","description","createWithdrawal","createTransfer","payee_id","accountId","deposits","withdrawals","transfers","getAccountDeposits","e","getAccountWithdrawals","getAccountTransfers","allTransactions","isArray","map","d","w","t","sort","a","b","dateA","payment_date","dateB","handleAccountSelect","account","handleCreateDeposit","depositData","updatedAccount","getAccountById","success","handleCreateWithdrawal","withdrawalData","handleCreateTransfer","transferData","className","children","fileName","_jsxFileName","lineNumber","columnNumber","toLocaleTimeString","onClick","toFixed","location","reload","onSelectAccount","customer","onCreateDeposit","onCreateWithdrawal","onCreateTransfer","_c","$RefreshReg$"],"sources":["C:/Users/kheri/Downloads/Bitcamp/bitcamp-2025/Bitcamp25/test-voice/src/components/Finance.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport capitalOneService from '../services/capitalOneService';\r\nimport AccountList from './finance/AccountList';\r\nimport CustomerInfo from './finance/CustomerInfo';\r\nimport TransactionHistory from './finance/TransactionHistory';\r\nimport AccountActions from './finance/AccountActions';\r\nimport BranchLocator from './finance/BranchLocator';\r\n\r\nconst Finance = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [accounts, setAccounts] = useState([]);\r\n  const [customers, setCustomers] = useState([]);\r\n  const [selectedAccount, setSelectedAccount] = useState(null);\r\n  const [selectedCustomer, setSelectedCustomer] = useState(null);\r\n  const [transactions, setTransactions] = useState([]);\r\n  const [activeView, setActiveView] = useState('accounts'); // accounts, customer, transactions, actions, branches\r\n  const [initializingData, setInitializingData] = useState(false);\r\n  // API status display\r\n  const [apiStatus, setApiStatus] = useState(null);\r\n  // Add a state to track the current endpoint\r\n  const [currentEndpoint, setCurrentEndpoint] = useState('');\r\n\r\n  // Listen for API status messages\r\n  useEffect(() => {\r\n    const handleApiStatusMessage = (event) => {\r\n      if (event.data && event.data.type === 'API_STATUS') {\r\n        setApiStatus({\r\n          ...event.data,\r\n          timestamp: new Date()\r\n        });\r\n        \r\n        // Extract and set the current endpoint\r\n        if (event.data.status === 'request') {\r\n          const message = event.data.message;\r\n          const match = message.match(/API REQUEST: \\w+ (\\/[^\\s]+)/);\r\n          if (match && match[1]) {\r\n            setCurrentEndpoint(match[1]);\r\n          }\r\n        }\r\n        \r\n        // Clear status after 5 seconds\r\n        setTimeout(() => {\r\n          setApiStatus(null);\r\n        }, 5000);\r\n      }\r\n    };\r\n    \r\n    // Add listener for postMessage events\r\n    window.addEventListener('message', handleApiStatusMessage);\r\n    \r\n    // Set up console.log override to capture API calls\r\n    const originalConsoleLog = console.log;\r\n    console.log = function() {\r\n      // Call the original console.log\r\n      originalConsoleLog.apply(console, arguments);\r\n      \r\n      // Check if this is an API request log\r\n      const args = Array.from(arguments).join(' ');\r\n      if (args.includes('API REQUEST:')) {\r\n        window.postMessage({\r\n          type: 'API_STATUS',\r\n          status: 'request',\r\n          message: args\r\n        }, '*');\r\n      } else if (args.includes('Response from')) {\r\n        window.postMessage({\r\n          type: 'API_STATUS',\r\n          status: 'response',\r\n          message: args\r\n        }, '*');\r\n      } else if (args.includes('API Error') || args.includes('CORS or network issue')) {\r\n        window.postMessage({\r\n          type: 'API_STATUS',\r\n          status: 'error',\r\n          message: args\r\n        }, '*');\r\n      }\r\n    };\r\n    \r\n    // Cleanup\r\n    return () => {\r\n      window.removeEventListener('message', handleApiStatusMessage);\r\n      console.log = originalConsoleLog;\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchInitialData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        \r\n        // Fetch accounts and customers\r\n        let accountsData = await capitalOneService.getAccounts();\r\n        let customersData = await capitalOneService.getCustomers();\r\n        \r\n        // Check if we need to create test data\r\n        if ((!accountsData || accountsData.length === 0) || (!customersData || customersData.length === 0)) {\r\n          // Show initializing status\r\n          setInitializingData(true);\r\n          \r\n          // Create test data if no data exists\r\n          const testData = await createTestData();\r\n          if (testData) {\r\n            accountsData = testData.accounts;\r\n            customersData = testData.customers;\r\n          }\r\n        }\r\n        \r\n        setAccounts(accountsData || []);\r\n        setCustomers(customersData || []);\r\n        \r\n        // Select the first account by default\r\n        if (accountsData && accountsData.length > 0) {\r\n          setSelectedAccount(accountsData[0]);\r\n          \r\n          try {\r\n            // Get the customer associated with this account\r\n            const customerData = await capitalOneService.getCustomerByAccount(accountsData[0]._id);\r\n            setSelectedCustomer(customerData);\r\n          } catch (err) {\r\n            console.log(\"Could not fetch customer for account, using first customer instead\");\r\n            if (customersData && customersData.length > 0) {\r\n              setSelectedCustomer(customersData[0]);\r\n            }\r\n          }\r\n          \r\n          // Get transactions (deposits, withdrawals, transfers) for this account\r\n          await fetchTransactions(accountsData[0]._id);\r\n        }\r\n        \r\n        setInitializingData(false);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        console.error(\"Error in fetchInitialData:\", err);\r\n        setError(err.message || 'Failed to fetch data');\r\n        setInitializingData(false);\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchInitialData();\r\n  }, []);\r\n  \r\n  // Function to create test data if none exists\r\n  const createTestData = async () => {\r\n    try {\r\n      console.log(\"Creating test data...\");\r\n      \r\n      // Create a test customer\r\n      const customerData = {\r\n        first_name: \"John\",\r\n        last_name: \"Doe\",\r\n        address: {\r\n          street_number: \"123\",\r\n          street_name: \"Main St\",\r\n          city: \"Washington\",\r\n          state: \"DC\",\r\n          zip: \"20001\"\r\n        }\r\n      };\r\n      \r\n      const customerResponse = await capitalOneService.createCustomer(customerData);\r\n      console.log(\"Created customer:\", customerResponse);\r\n      \r\n      // Get the customer ID from the response\r\n      let customerId;\r\n      if (customerResponse && customerResponse.objectCreated) {\r\n        customerId = customerResponse.objectCreated._id;\r\n      } else if (customerResponse && customerResponse._id) {\r\n        customerId = customerResponse._id;\r\n      } else {\r\n        // Try to get first customer if we couldn't create one\r\n        const customers = await capitalOneService.getCustomers();\r\n        if (customers && customers.length > 0) {\r\n          customerId = customers[0]._id;\r\n        } else {\r\n          throw new Error(\"Failed to create or find a customer\");\r\n        }\r\n      }\r\n      \r\n      // Create a checking account\r\n      const checkingAccountData = {\r\n        type: \"Checking\",\r\n        nickname: \"Primary Checking\",\r\n        rewards: 10,\r\n        balance: 5000,\r\n        account_number: \"123456789\"\r\n      };\r\n      \r\n      const savingsAccountData = {\r\n        type: \"Savings\",\r\n        nickname: \"Emergency Fund\",\r\n        rewards: 25,\r\n        balance: 10000,\r\n        account_number: \"987654321\"\r\n      };\r\n      \r\n      const creditAccountData = {\r\n        type: \"Credit Card\",\r\n        nickname: \"Rewards Card\",\r\n        rewards: 100,\r\n        balance: 1500,\r\n        account_number: \"555555555\"\r\n      };\r\n      \r\n      // Create accounts\r\n      const checkingResponse = await capitalOneService.createAccount(customerId, checkingAccountData);\r\n      const savingsResponse = await capitalOneService.createAccount(customerId, savingsAccountData);\r\n      const creditResponse = await capitalOneService.createAccount(customerId, creditAccountData);\r\n      \r\n      console.log(\"Created accounts:\", checkingResponse, savingsResponse, creditResponse);\r\n      \r\n      // Get created accounts\r\n      const accounts = await capitalOneService.getCustomerAccounts(customerId);\r\n      const customers = await capitalOneService.getCustomers();\r\n      \r\n      // Create some sample transactions if accounts were created\r\n      if (accounts && accounts.length > 0) {\r\n        // Create deposit\r\n        await capitalOneService.createDeposit(accounts[0]._id, {\r\n          medium: \"balance\",\r\n          transaction_date: new Date().toISOString().split('T')[0],\r\n          status: \"completed\",\r\n          amount: 1000,\r\n          description: \"Salary deposit\"\r\n        });\r\n        \r\n        // Create withdrawal\r\n        await capitalOneService.createWithdrawal(accounts[0]._id, {\r\n          medium: \"balance\",\r\n          transaction_date: new Date().toISOString().split('T')[0],\r\n          status: \"completed\",\r\n          amount: 250,\r\n          description: \"ATM withdrawal\"\r\n        });\r\n        \r\n        // Create transfer between accounts if we have multiple\r\n        if (accounts.length > 1) {\r\n          await capitalOneService.createTransfer(accounts[0]._id, {\r\n            medium: \"balance\",\r\n            payee_id: accounts[1]._id,\r\n            transaction_date: new Date().toISOString().split('T')[0],\r\n            status: \"completed\",\r\n            amount: 500,\r\n            description: \"Transfer to savings\"\r\n          });\r\n        }\r\n      }\r\n      \r\n      return {\r\n        accounts,\r\n        customers\r\n      };\r\n    } catch (err) {\r\n      console.error(\"Error creating test data:\", err);\r\n      return null;\r\n    }\r\n  };\r\n  \r\n  const fetchTransactions = async (accountId) => {\r\n    try {\r\n      // Fetch deposits, withdrawals, and transfers for the account\r\n      let deposits = [];\r\n      let withdrawals = [];\r\n      let transfers = [];\r\n      \r\n      try {\r\n        deposits = await capitalOneService.getAccountDeposits(accountId);\r\n      } catch (e) {\r\n        console.log(\"Error fetching deposits:\", e);\r\n      }\r\n      \r\n      try {\r\n        withdrawals = await capitalOneService.getAccountWithdrawals(accountId);\r\n      } catch (e) {\r\n        console.log(\"Error fetching withdrawals:\", e);\r\n      }\r\n      \r\n      try {\r\n        transfers = await capitalOneService.getAccountTransfers(accountId);\r\n      } catch (e) {\r\n        console.log(\"Error fetching transfers:\", e);\r\n      }\r\n      \r\n      // Combine and format transactions\r\n      const allTransactions = [\r\n        ...(Array.isArray(deposits) ? deposits.map(d => ({ ...d, type: 'deposit' })) : []),\r\n        ...(Array.isArray(withdrawals) ? withdrawals.map(w => ({ ...w, type: 'withdrawal' })) : []),\r\n        ...(Array.isArray(transfers) ? transfers.map(t => ({ ...t, type: 'transfer' })) : [])\r\n      ];\r\n      \r\n      // Sort by date (newest first)\r\n      allTransactions.sort((a, b) => {\r\n        const dateA = new Date(a.transaction_date || a.payment_date || 0);\r\n        const dateB = new Date(b.transaction_date || b.payment_date || 0);\r\n        return dateB - dateA;\r\n      });\r\n      \r\n      setTransactions(allTransactions);\r\n    } catch (err) {\r\n      console.error(\"Error in fetchTransactions:\", err);\r\n      setError(err.message || 'Failed to fetch transactions');\r\n    }\r\n  };\r\n  \r\n  const handleAccountSelect = async (account) => {\r\n    setSelectedAccount(account);\r\n    \r\n    try {\r\n      // Get customer for this account\r\n      try {\r\n        const customerData = await capitalOneService.getCustomerByAccount(account._id);\r\n        setSelectedCustomer(customerData);\r\n      } catch (err) {\r\n        console.log(\"Could not fetch customer for account:\", err);\r\n        // If we can't get the customer by account, just use the first customer\r\n        if (customers && customers.length > 0) {\r\n          setSelectedCustomer(customers[0]);\r\n        }\r\n      }\r\n      \r\n      // Get transactions for this account\r\n      await fetchTransactions(account._id);\r\n    } catch (err) {\r\n      console.error(\"Error in handleAccountSelect:\", err);\r\n      setError(err.message || 'Failed to fetch account details');\r\n    }\r\n  };\r\n  \r\n  const handleCreateDeposit = async (depositData) => {\r\n    try {\r\n      await capitalOneService.createDeposit(selectedAccount._id, depositData);\r\n      \r\n      // Refresh account data and transactions\r\n      const updatedAccount = await capitalOneService.getAccountById(selectedAccount._id);\r\n      setSelectedAccount(updatedAccount);\r\n      \r\n      await fetchTransactions(selectedAccount._id);\r\n      \r\n      return { success: true };\r\n    } catch (err) {\r\n      console.error(\"Error creating deposit:\", err);\r\n      setError(err.message || 'Failed to create deposit');\r\n      return { success: false, error: err.message };\r\n    }\r\n  };\r\n  \r\n  const handleCreateWithdrawal = async (withdrawalData) => {\r\n    try {\r\n      await capitalOneService.createWithdrawal(selectedAccount._id, withdrawalData);\r\n      \r\n      // Refresh account data and transactions\r\n      const updatedAccount = await capitalOneService.getAccountById(selectedAccount._id);\r\n      setSelectedAccount(updatedAccount);\r\n      \r\n      await fetchTransactions(selectedAccount._id);\r\n      \r\n      return { success: true };\r\n    } catch (err) {\r\n      console.error(\"Error creating withdrawal:\", err);\r\n      setError(err.message || 'Failed to create withdrawal');\r\n      return { success: false, error: err.message };\r\n    }\r\n  };\r\n  \r\n  const handleCreateTransfer = async (transferData) => {\r\n    try {\r\n      await capitalOneService.createTransfer(selectedAccount._id, transferData);\r\n      \r\n      // Refresh account data and transactions\r\n      const updatedAccount = await capitalOneService.getAccountById(selectedAccount._id);\r\n      setSelectedAccount(updatedAccount);\r\n      \r\n      await fetchTransactions(selectedAccount._id);\r\n      \r\n      return { success: true };\r\n    } catch (err) {\r\n      console.error(\"Error creating transfer:\", err);\r\n      setError(err.message || 'Failed to create transfer');\r\n      return { success: false, error: err.message };\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"finance-dashboard\">\r\n      <h3 className=\"section-title\">Capital One Banking Dashboard</h3>\r\n      \r\n      {/* Current API Endpoint Indicator */}\r\n      <div className=\"current-endpoint\">\r\n        <span className=\"endpoint-label\">Current API Endpoint:</span>\r\n        <span className=\"endpoint-value\">{currentEndpoint || 'None'}</span>\r\n        <div className=\"api-key-display\">\r\n          <span className=\"api-key-label\">API Key:</span>\r\n          <span className=\"api-key-value\">f1fbb5f9a7bfdc1597fafdf76476cfa7</span>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* API Status Indicator */}\r\n      {apiStatus && (\r\n        <div className={`api-status-indicator ${apiStatus.status}`}>\r\n          <div className=\"api-status-icon\">\r\n            {apiStatus.status === 'request' ? 'üîÑ' : \r\n             apiStatus.status === 'response' ? '‚úÖ' : '‚ùå'}\r\n          </div>\r\n          <div className=\"api-status-content\">\r\n            <div className=\"api-status-message\">\r\n              {apiStatus.message}\r\n            </div>\r\n            <div className=\"api-status-time\">\r\n              {apiStatus.timestamp.toLocaleTimeString()}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Navigation Tabs */}\r\n      <div className=\"finance-tabs\">\r\n        <button \r\n          className={`finance-tab ${activeView === 'accounts' ? 'active' : ''}`}\r\n          onClick={() => setActiveView('accounts')}\r\n        >\r\n          Accounts\r\n        </button>\r\n        <button \r\n          className={`finance-tab ${activeView === 'customer' ? 'active' : ''}`}\r\n          onClick={() => setActiveView('customer')}\r\n        >\r\n          Customer Info\r\n        </button>\r\n        <button \r\n          className={`finance-tab ${activeView === 'transactions' ? 'active' : ''}`}\r\n          onClick={() => setActiveView('transactions')}\r\n        >\r\n          Transactions\r\n        </button>\r\n        <button \r\n          className={`finance-tab ${activeView === 'actions' ? 'active' : ''}`}\r\n          onClick={() => setActiveView('actions')}\r\n        >\r\n          Account Actions\r\n        </button>\r\n        <button \r\n          className={`finance-tab ${activeView === 'branches' ? 'active' : ''}`}\r\n          onClick={() => setActiveView('branches')}\r\n        >\r\n          Branch Locator\r\n        </button>\r\n      </div>\r\n      \r\n      {/* Current Account Summary */}\r\n      {selectedAccount && (\r\n        <div className=\"current-account-summary\">\r\n          <h4>Selected Account: {selectedAccount.nickname || selectedAccount._id}</h4>\r\n          <div className=\"account-balance\">\r\n            Balance: ${selectedAccount.balance ? selectedAccount.balance.toFixed(2) : '0.00'}\r\n          </div>\r\n          <div className=\"account-type\">\r\n            Type: {selectedAccount.type}\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Show error state if there's an error */}\r\n      {error && (\r\n        <div className=\"error-message\">\r\n          <p>Error: {error}</p>\r\n          <button onClick={() => window.location.reload()}>Retry</button>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Show loading state */}\r\n      {(loading || initializingData) && (\r\n        <div className=\"loading-overlay\">\r\n          <div className=\"loading-spinner\">\r\n            {initializingData ? 'Creating sample data...' : 'Loading...'}\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Content based on active view */}\r\n      <div className=\"finance-content\">\r\n        {activeView === 'accounts' && (\r\n          <AccountList \r\n            accounts={accounts} \r\n            selectedAccount={selectedAccount}\r\n            onSelectAccount={handleAccountSelect}\r\n          />\r\n        )}\r\n        \r\n        {activeView === 'customer' && selectedCustomer && (\r\n          <CustomerInfo customer={selectedCustomer} />\r\n        )}\r\n        \r\n        {activeView === 'transactions' && (\r\n          <TransactionHistory \r\n            transactions={transactions}\r\n            accountId={selectedAccount?._id}\r\n          />\r\n        )}\r\n        \r\n        {activeView === 'actions' && (\r\n          <AccountActions \r\n            account={selectedAccount}\r\n            onCreateDeposit={handleCreateDeposit}\r\n            onCreateWithdrawal={handleCreateWithdrawal}\r\n            onCreateTransfer={handleCreateTransfer}\r\n            accounts={accounts}\r\n          />\r\n        )}\r\n        \r\n        {activeView === 'branches' && (\r\n          <BranchLocator />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Finance; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}