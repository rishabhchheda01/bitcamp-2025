{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kheri\\\\Downloads\\\\Bitcamp\\\\bitcamp-2025\\\\Bitcamp25\\\\test-voice\\\\src\\\\FaceDetectionTest.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from 'react';\nimport '@tensorflow/tfjs';\nimport '@tensorflow/tfjs-backend-webgl';\nimport '@mediapipe/face_mesh';\nimport Webcam from 'react-webcam';\nimport FaceDirectionDetector from './face_detection/FaceDirectionDetector';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FaceDetectionTest = () => {\n  _s();\n  const webcamRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [detector, setDetector] = useState(null);\n  const [faceData, setFaceData] = useState({\n    position: {\n      x: 0,\n      y: 0\n    },\n    direction: {\n      yaw: 0,\n      turn: 0\n    }\n  });\n  const [isInitialized, setIsInitialized] = useState(false);\n\n  // Initialize the detector\n  useEffect(() => {\n    const initializeDetector = async () => {\n      try {\n        const faceDetector = new FaceDirectionDetector({\n          showMesh: true,\n          showDirection: true\n        });\n        await faceDetector.initialize();\n        setDetector(faceDetector);\n        setIsInitialized(true);\n        console.log(\"Face detector initialized\");\n      } catch (error) {\n        console.error(\"Error initializing face detector:\", error);\n      }\n    };\n    initializeDetector();\n\n    // Cleanup on unmount\n    return () => {\n      if (detector) {\n        detector.stop();\n      }\n    };\n  }, []);\n\n  // Handle video load\n  const handleVideoLoad = async videoNode => {\n    const video = videoNode.target;\n    if (video.readyState !== 4) return;\n    if (!isInitialized || !detector || !webcamRef.current || !canvasRef.current) return;\n    try {\n      await detector.start(webcamRef.current.video, canvasRef.current, data => {\n        if (data) {\n          // Update face data\n          setFaceData({\n            position: {\n              x: data.keypoints && data.keypoints[1] ? Math.round(data.keypoints[1].x) : 0,\n              y: data.keypoints && data.keypoints[1] ? Math.round(data.keypoints[1].y) : 0\n            },\n            direction: {\n              yaw: data.yaw ? Math.round(data.yaw) : 0,\n              turn: data.turn ? Math.round(data.turn) : 0\n            }\n          });\n        }\n      });\n      console.log(\"Face detection started\");\n    } catch (error) {\n      console.error(\"Error starting face detection:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"face-detection-test\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Face Direction Detection Test\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"webcam-container\",\n      style: {\n        position: 'relative',\n        width: '640px',\n        margin: '0 auto'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Webcam, {\n        ref: webcamRef,\n        width: 640,\n        height: 480,\n        videoConstraints: {\n          width: 640,\n          height: 480,\n          facingMode: \"user\"\n        },\n        onLoadedData: handleVideoLoad\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        width: 640,\n        height: 480,\n        style: {\n          position: 'absolute',\n          top: 0,\n          left: 0\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"face-data-display\",\n      style: {\n        margin: '20px auto',\n        padding: '15px',\n        backgroundColor: '#f0f0f0',\n        borderRadius: '8px',\n        width: '300px',\n        textAlign: 'center',\n        fontSize: '18px',\n        fontFamily: 'monospace'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Position:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), \" X: \", faceData.position.x, \", Y: \", faceData.position.y]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Direction:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), \" Yaw: \", faceData.direction.yaw, \"\\xB0, Turn: \", faceData.direction.turn, \"\\xB0\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"instructions\",\n      style: {\n        margin: '20px auto',\n        maxWidth: '600px',\n        textAlign: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Move your face to see the coordinates and direction values change.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Yaw: Up/down movement, Turn: Left/right movement\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n_s(FaceDetectionTest, \"KiwQVU8/5G+rUawOaqE8Wsao/p4=\");\n_c = FaceDetectionTest;\nexport default FaceDetectionTest;\nvar _c;\n$RefreshReg$(_c, \"FaceDetectionTest\");","map":{"version":3,"names":["React","useRef","useState","useEffect","Webcam","FaceDirectionDetector","jsxDEV","_jsxDEV","FaceDetectionTest","_s","webcamRef","canvasRef","detector","setDetector","faceData","setFaceData","position","x","y","direction","yaw","turn","isInitialized","setIsInitialized","initializeDetector","faceDetector","showMesh","showDirection","initialize","console","log","error","stop","handleVideoLoad","videoNode","video","target","readyState","current","start","data","keypoints","Math","round","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","width","margin","ref","height","videoConstraints","facingMode","onLoadedData","top","left","padding","backgroundColor","borderRadius","textAlign","fontSize","fontFamily","maxWidth","_c","$RefreshReg$"],"sources":["C:/Users/kheri/Downloads/Bitcamp/bitcamp-2025/Bitcamp25/test-voice/src/FaceDetectionTest.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\r\nimport '@tensorflow/tfjs';\r\nimport '@tensorflow/tfjs-backend-webgl';\r\nimport '@mediapipe/face_mesh';\r\nimport Webcam from 'react-webcam';\r\nimport FaceDirectionDetector from './face_detection/FaceDirectionDetector';\r\n\r\nconst FaceDetectionTest = () => {\r\n  const webcamRef = useRef(null);\r\n  const canvasRef = useRef(null);\r\n  const [detector, setDetector] = useState(null);\r\n  const [faceData, setFaceData] = useState({\r\n    position: { x: 0, y: 0 },\r\n    direction: { yaw: 0, turn: 0 }\r\n  });\r\n  const [isInitialized, setIsInitialized] = useState(false);\r\n\r\n  // Initialize the detector\r\n  useEffect(() => {\r\n    const initializeDetector = async () => {\r\n      try {\r\n        const faceDetector = new FaceDirectionDetector({\r\n          showMesh: true,\r\n          showDirection: true\r\n        });\r\n        await faceDetector.initialize();\r\n        setDetector(faceDetector);\r\n        setIsInitialized(true);\r\n        console.log(\"Face detector initialized\");\r\n      } catch (error) {\r\n        console.error(\"Error initializing face detector:\", error);\r\n      }\r\n    };\r\n\r\n    initializeDetector();\r\n\r\n    // Cleanup on unmount\r\n    return () => {\r\n      if (detector) {\r\n        detector.stop();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Handle video load\r\n  const handleVideoLoad = async (videoNode) => {\r\n    const video = videoNode.target;\r\n    if (video.readyState !== 4) return;\r\n    if (!isInitialized || !detector || !webcamRef.current || !canvasRef.current) return;\r\n\r\n    try {\r\n      await detector.start(\r\n        webcamRef.current.video, \r\n        canvasRef.current, \r\n        (data) => {\r\n          if (data) {\r\n            // Update face data\r\n            setFaceData({\r\n              position: {\r\n                x: data.keypoints && data.keypoints[1] ? Math.round(data.keypoints[1].x) : 0,\r\n                y: data.keypoints && data.keypoints[1] ? Math.round(data.keypoints[1].y) : 0\r\n              },\r\n              direction: {\r\n                yaw: data.yaw ? Math.round(data.yaw) : 0,\r\n                turn: data.turn ? Math.round(data.turn) : 0\r\n              }\r\n            });\r\n          }\r\n        }\r\n      );\r\n      console.log(\"Face detection started\");\r\n    } catch (error) {\r\n      console.error(\"Error starting face detection:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"face-detection-test\">\r\n      <h2>Face Direction Detection Test</h2>\r\n      \r\n      <div className=\"webcam-container\" style={{ position: 'relative', width: '640px', margin: '0 auto' }}>\r\n        <Webcam\r\n          ref={webcamRef}\r\n          width={640}\r\n          height={480}\r\n          videoConstraints={{\r\n            width: 640,\r\n            height: 480,\r\n            facingMode: \"user\"\r\n          }}\r\n          onLoadedData={handleVideoLoad}\r\n        />\r\n        \r\n        <canvas\r\n          ref={canvasRef}\r\n          width={640}\r\n          height={480}\r\n          style={{ \r\n            position: 'absolute', \r\n            top: 0, \r\n            left: 0\r\n          }}\r\n        />\r\n      </div>\r\n      \r\n      <div className=\"face-data-display\" style={{ \r\n        margin: '20px auto', \r\n        padding: '15px', \r\n        backgroundColor: '#f0f0f0', \r\n        borderRadius: '8px', \r\n        width: '300px', \r\n        textAlign: 'center',\r\n        fontSize: '18px',\r\n        fontFamily: 'monospace'\r\n      }}>\r\n        <div>\r\n          <strong>Position:</strong> X: {faceData.position.x}, Y: {faceData.position.y}\r\n        </div>\r\n        <div>\r\n          <strong>Direction:</strong> Yaw: {faceData.direction.yaw}°, Turn: {faceData.direction.turn}°\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"instructions\" style={{ \r\n        margin: '20px auto', \r\n        maxWidth: '600px', \r\n        textAlign: 'center' \r\n      }}>\r\n        <p>Move your face to see the coordinates and direction values change.</p>\r\n        <p>Yaw: Up/down movement, Turn: Left/right movement</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FaceDetectionTest; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}