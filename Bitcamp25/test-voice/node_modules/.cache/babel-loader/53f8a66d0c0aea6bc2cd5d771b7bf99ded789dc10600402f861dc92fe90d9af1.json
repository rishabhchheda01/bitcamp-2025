{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kheri\\\\Downloads\\\\Bitcamp\\\\bitcamp-2025\\\\Bitcamp25\\\\test-voice\\\\src\\\\FakeCursor.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport SplineScript from './SplineScript';\n\n// Animation patterns for different talking states\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TALKING_PATTERNS = {\n  normal: [{\n    x: 0.5,\n    y: 0.5,\n    duration: 1000\n  },\n  // center\n  {\n    x: 0.5,\n    y: 0.3,\n    duration: 800\n  },\n  // look up\n  {\n    x: 0.5,\n    y: 0.5,\n    duration: 700\n  },\n  // center\n  {\n    x: 0.3,\n    y: 0.5,\n    duration: 900\n  },\n  // look left\n  {\n    x: 0.5,\n    y: 0.5,\n    duration: 600\n  },\n  // center\n  {\n    x: 0.7,\n    y: 0.5,\n    duration: 1000\n  },\n  // look right\n  {\n    x: 0.5,\n    y: 0.5,\n    duration: 700\n  },\n  // center\n  {\n    x: 0.5,\n    y: 0.7,\n    duration: 800\n  } // look down\n  ],\n  nodding: [{\n    x: 0.5,\n    y: 0.4,\n    duration: 600\n  },\n  // up slightly\n  {\n    x: 0.5,\n    y: 0.6,\n    duration: 600\n  },\n  // down slightly\n  {\n    x: 0.5,\n    y: 0.4,\n    duration: 600\n  },\n  // up slightly\n  {\n    x: 0.5,\n    y: 0.6,\n    duration: 600\n  } // down slightly\n  ],\n  shaking: [{\n    x: 0.4,\n    y: 0.5,\n    duration: 400\n  },\n  // left\n  {\n    x: 0.6,\n    y: 0.5,\n    duration: 400\n  },\n  // right\n  {\n    x: 0.4,\n    y: 0.5,\n    duration: 400\n  },\n  // left\n  {\n    x: 0.6,\n    y: 0.5,\n    duration: 400\n  } // right\n  ]\n};\nconst FakeCursor = () => {\n  _s();\n  const [isVisible, setIsVisible] = useState(true);\n  const [position, setPosition] = useState({\n    x: window.innerWidth / 2,\n    y: window.innerHeight / 2\n  });\n  const [isPointerLocked, setIsPointerLocked] = useState(false);\n  const [useAutoPattern, setUseAutoPattern] = useState(true);\n  const animationFrameRef = useRef(null);\n  const patternIndexRef = useRef(0);\n  const patternTimeRef = useRef(0);\n  const currentPatternRef = useRef('normal');\n  const containerRef = useRef(null);\n  const mouseSensitivityRef = useRef(1.0); // Default sensitivity\n  const lastMovementTimestampRef = useRef(0);\n  const mouseDampeningRef = useRef(0.92); // Dampen movement for smoother cursor (0-1)\n  const mouseVelocityRef = useRef({\n    x: 0,\n    y: 0\n  }); // Track velocity for smoothing\n\n  // Request pointer lock when clicked\n  const requestLock = () => {\n    if (!isPointerLocked && containerRef.current) {\n      try {\n        // Style cursor to be invisible immediately\n        document.body.style.cursor = 'none';\n        // Request pointer lock with proper error handling\n        containerRef.current.requestPointerLock().catch(err => {\n          console.error(\"Pointer lock failed:\", err);\n          // Restore cursor if pointer lock fails\n          document.body.style.cursor = 'auto';\n        });\n      } catch (error) {\n        console.error(\"Error requesting pointer lock:\", error);\n        document.body.style.cursor = 'auto';\n      }\n    }\n  };\n\n  // Handle pointer lock\n  useEffect(() => {\n    // Apply cursor styles immediately\n    if (isPointerLocked) {\n      document.body.style.cursor = 'none';\n    } else if (!useAutoPattern) {\n      document.body.style.cursor = 'auto';\n    }\n    const handlePointerLockChange = () => {\n      const isLocked = document.pointerLockElement === containerRef.current;\n      setIsPointerLocked(isLocked);\n      if (isLocked) {\n        console.log(\"Pointer locked successfully!\");\n        document.body.style.cursor = 'none';\n        setUseAutoPattern(false); // Switch to manual control\n        mouseVelocityRef.current = {\n          x: 0,\n          y: 0\n        }; // Reset velocity on lock\n      } else {\n        console.log(\"Pointer unlocked\");\n        // Only show cursor if not in auto pattern mode\n        if (!useAutoPattern) {\n          document.body.style.cursor = 'auto';\n        }\n        setUseAutoPattern(true); // Back to auto pattern\n      }\n    };\n\n    // Additional check for fullscreen which may be needed on some browsers\n    const requestFullscreenIfNeeded = () => {\n      if (!document.fullscreenElement && containerRef.current) {\n        containerRef.current.requestFullscreen().catch(err => {\n          console.log(\"Fullscreen not available:\", err);\n        });\n      }\n    };\n    const handleEscapeKey = e => {\n      if (e.key === 'Escape' && isPointerLocked) {\n        document.exitPointerLock();\n      } else if (e.key === '+' || e.key === '=') {\n        // Increase sensitivity\n        mouseSensitivityRef.current = Math.min(mouseSensitivityRef.current + 0.1, 3.0);\n        console.log(`Sensitivity increased to ${mouseSensitivityRef.current.toFixed(1)}`);\n      } else if (e.key === '-' || e.key === '_') {\n        // Decrease sensitivity\n        mouseSensitivityRef.current = Math.max(mouseSensitivityRef.current - 0.1, 0.1);\n        console.log(`Sensitivity decreased to ${mouseSensitivityRef.current.toFixed(1)}`);\n      } else if (e.key === 'f' || e.key === 'F') {\n        // Toggle fullscreen which may help with pointer lock\n        requestFullscreenIfNeeded();\n      }\n    };\n    document.addEventListener('pointerlockchange', handlePointerLockChange);\n    document.addEventListener('keydown', handleEscapeKey);\n\n    // Initial cursor hiding on mount if autopattern is on\n    if (useAutoPattern) {\n      document.body.style.cursor = 'none';\n    }\n    return () => {\n      document.removeEventListener('pointerlockchange', handlePointerLockChange);\n      document.removeEventListener('keydown', handleEscapeKey);\n      // Restore cursor on unmount\n      document.body.style.cursor = 'auto';\n    };\n  }, [isPointerLocked, useAutoPattern]);\n\n  // Apply physics-based smoothing to cursor movement when in manual mode\n  useEffect(() => {\n    if (!isPointerLocked) return;\n    const applyPhysics = () => {\n      // Apply velocity with damping\n      setPosition(prev => {\n        const damping = mouseDampeningRef.current;\n        const velocityX = mouseVelocityRef.current.x * damping;\n        const velocityY = mouseVelocityRef.current.y * damping;\n\n        // Update velocity with damping\n        mouseVelocityRef.current = {\n          x: velocityX,\n          y: velocityY\n        };\n\n        // Apply velocity if it's significant\n        if (Math.abs(velocityX) > 0.01 || Math.abs(velocityY) > 0.01) {\n          const newX = Math.max(0, Math.min(window.innerWidth, prev.x + velocityX));\n          const newY = Math.max(0, Math.min(window.innerHeight, prev.y + velocityY));\n          return {\n            x: newX,\n            y: newY\n          };\n        }\n        return prev;\n      });\n      animationFrameRef.current = requestAnimationFrame(applyPhysics);\n    };\n    animationFrameRef.current = requestAnimationFrame(applyPhysics);\n    return () => {\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n      }\n    };\n  }, [isPointerLocked]);\n\n  // Handle manual mouse movement when pointer is locked\n  const handleMouseMove = e => {\n    if (isPointerLocked) {\n      const now = performance.now();\n      const dt = Math.min(now - lastMovementTimestampRef.current, 100); // Cap deltaTime at 100ms\n      lastMovementTimestampRef.current = now;\n\n      // Apply sensitivity to movement values\n      const sensitivity = mouseSensitivityRef.current;\n      const movementX = e.movementX * sensitivity;\n      const movementY = e.movementY * sensitivity;\n\n      // Calculate movement magnitude for adaptive blending\n      const movementMagnitude = Math.sqrt(movementX * movementX + movementY * movementY);\n\n      // Dynamic immediacy - scales with movement size and framerate\n      const baseImmediacyFactor = Math.min(movementMagnitude / 40, 1); // Base factor from 0-1\n      const frameRateAdjustment = Math.min(dt / 16.67, 3); // 1.0 at 60fps, higher at lower framerates\n      const immediacy = baseImmediacyFactor * (0.3 + 0.7 * (1 / frameRateAdjustment));\n\n      // Apply velocity smoothing with dynamic weighting\n      const velocityWeight = Math.max(0.1, Math.min(0.9, 1 - immediacy));\n      mouseVelocityRef.current = {\n        x: mouseVelocityRef.current.x * velocityWeight + movementX * (1 - velocityWeight),\n        y: mouseVelocityRef.current.y * velocityWeight + movementY * (1 - velocityWeight)\n      };\n\n      // For very fast movements or when cursor is near edges, immediately update some portion\n      // of the position for better responsiveness\n      if (movementMagnitude > 25 || isNearEdge(position)) {\n        // For extremely fast movements, apply more direct control\n        const directControlFactor = Math.min(movementMagnitude / 100, 0.8);\n        setPosition(prev => {\n          const newX = Math.max(0, Math.min(window.innerWidth, prev.x + movementX * directControlFactor));\n          const newY = Math.max(0, Math.min(window.innerHeight, prev.y + movementY * directControlFactor));\n          return {\n            x: newX,\n            y: newY\n          };\n        });\n      }\n    }\n  };\n\n  // Helper function to detect if cursor is near screen edge\n  const isNearEdge = pos => {\n    const edgeThreshold = 100; // pixels from edge\n    return pos.x < edgeThreshold || pos.x > window.innerWidth - edgeThreshold || pos.y < edgeThreshold || pos.y > window.innerHeight - edgeThreshold;\n  };\n\n  // Log component mounting for debugging\n  useEffect(() => {\n    console.log(\"FakeCursor component mounted\");\n    console.log(\"Initial position:\", position);\n    return () => {\n      console.log(\"FakeCursor component unmounted\");\n    };\n  }, []);\n\n  // Animate the fake cursor automatically when not pointer locked\n  useEffect(() => {\n    if (!useAutoPattern) return;\n    console.log(\"Starting animation loop\");\n    setIsVisible(true);\n\n    // Wait a bit for Spline to initialize\n    const initTimer = setTimeout(() => {\n      // Start with a random pattern\n      if (!animationFrameRef.current) {\n        currentPatternRef.current = 'normal'; // Start with normal pattern\n        patternIndexRef.current = 0;\n        patternTimeRef.current = 0;\n      }\n      const animateCursor = timestamp => {\n        if (!useAutoPattern) return;\n        if (!patternTimeRef.current) {\n          patternTimeRef.current = timestamp;\n        }\n        const pattern = TALKING_PATTERNS[currentPatternRef.current];\n        const targetPoint = pattern[patternIndexRef.current];\n        const elapsed = timestamp - patternTimeRef.current;\n        if (elapsed >= targetPoint.duration) {\n          // Move to next point in pattern\n          patternIndexRef.current = (patternIndexRef.current + 1) % pattern.length;\n\n          // Change patterns occasionally\n          if (patternIndexRef.current === 0) {\n            // Cycle through patterns in a fixed order\n            if (currentPatternRef.current === 'normal') {\n              currentPatternRef.current = 'nodding';\n            } else if (currentPatternRef.current === 'nodding') {\n              currentPatternRef.current = 'shaking';\n            } else {\n              currentPatternRef.current = 'normal';\n            }\n            console.log(\"Changed to pattern:\", currentPatternRef.current);\n          }\n          patternTimeRef.current = timestamp;\n        }\n\n        // Calculate current position based on pattern\n        const previousIndex = patternIndexRef.current === 0 ? pattern.length - 1 : patternIndexRef.current - 1;\n        const previousTarget = pattern[previousIndex];\n        const nextTarget = pattern[patternIndexRef.current];\n        const progress = Math.min(elapsed / nextTarget.duration, 1);\n\n        // Apply easing for smoother movement\n        const easeProgress = easeInOutQuad(progress);\n\n        // Calculate new position\n        const targetX = window.innerWidth * nextTarget.x;\n        const targetY = window.innerHeight * nextTarget.y;\n        const previousX = window.innerWidth * previousTarget.x;\n        const previousY = window.innerHeight * previousTarget.y;\n        const newX = previousX + (targetX - previousX) * easeProgress;\n        const newY = previousY + (targetY - previousY) * easeProgress;\n        setPosition({\n          x: newX,\n          y: newY\n        });\n        animationFrameRef.current = requestAnimationFrame(animateCursor);\n      };\n      animationFrameRef.current = requestAnimationFrame(animateCursor);\n    }, 1000); // Wait 1 second before starting the animation\n\n    return () => {\n      clearTimeout(initTimer);\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n        animationFrameRef.current = null;\n        console.log(\"Animation loop stopped\");\n      }\n    };\n  }, [useAutoPattern]); // Now depends on useAutoPattern\n\n  // Easing function for smoother animation\n  const easeInOutQuad = t => {\n    return t < 0.5 ? 2 * t * t : 1 - Math.pow(-2 * t + 2, 2) / 2;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: containerRef,\n    onMouseMove: handleMouseMove,\n    onClick: requestLock,\n    style: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      width: '100%',\n      height: '100%',\n      zIndex: 1000,\n      pointerEvents: isPointerLocked ? 'auto' : 'none'\n    },\n    children: [/*#__PURE__*/_jsxDEV(SplineScript, {\n      position: position\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        left: position.x,\n        top: position.y,\n        width: '50px',\n        height: '50px',\n        borderRadius: '50%',\n        backgroundColor: 'rgba(255, 0, 0, 0.8)',\n        border: '3px solid white',\n        transform: 'translate(-50%, -50%)',\n        pointerEvents: 'none',\n        zIndex: 9999,\n        boxShadow: '0 0 20px rgba(255, 0, 0, 1)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          top: '55px',\n          left: '50%',\n          transform: 'translateX(-50%)',\n          background: 'black',\n          color: 'white',\n          padding: '5px 10px',\n          borderRadius: '5px',\n          fontSize: '14px',\n          fontWeight: 'bold',\n          whiteSpace: 'nowrap'\n        },\n        children: isPointerLocked ? `MANUAL (${mouseSensitivityRef.current.toFixed(1)}x)` : currentPatternRef.current + ' - AUTO'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          width: '10px',\n          height: '10px',\n          background: 'white',\n          borderRadius: '50%',\n          top: '50%',\n          left: '50%',\n          transform: 'translate(-50%, -50%)'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 7\n    }, this), !isPointerLocked && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        bottom: '20px',\n        left: '50%',\n        transform: 'translateX(-50%)',\n        backgroundColor: 'rgba(0, 0, 0, 0.7)',\n        color: 'white',\n        padding: '10px 20px',\n        borderRadius: '5px',\n        textAlign: 'center',\n        zIndex: 9998\n      },\n      children: \"Click anywhere to take manual control of the cursor\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 9\n    }, this), isPointerLocked && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        bottom: '20px',\n        left: '50%',\n        transform: 'translateX(-50%)',\n        backgroundColor: 'rgba(0, 0, 0, 0.7)',\n        color: 'white',\n        padding: '10px 20px',\n        borderRadius: '5px',\n        textAlign: 'center',\n        zIndex: 9998,\n        fontSize: '14px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Controls:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 11\n      }, this), \" Press ESC to exit | +/- to adjust sensitivity\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 324,\n    columnNumber: 5\n  }, this);\n};\n_s(FakeCursor, \"Hx3Gs0wGEyEa0FRQqdcG1CecZQ8=\");\n_c = FakeCursor;\nexport default FakeCursor;\nvar _c;\n$RefreshReg$(_c, \"FakeCursor\");","map":{"version":3,"names":["React","useEffect","useRef","useState","SplineScript","jsxDEV","_jsxDEV","TALKING_PATTERNS","normal","x","y","duration","nodding","shaking","FakeCursor","_s","isVisible","setIsVisible","position","setPosition","window","innerWidth","innerHeight","isPointerLocked","setIsPointerLocked","useAutoPattern","setUseAutoPattern","animationFrameRef","patternIndexRef","patternTimeRef","currentPatternRef","containerRef","mouseSensitivityRef","lastMovementTimestampRef","mouseDampeningRef","mouseVelocityRef","requestLock","current","document","body","style","cursor","requestPointerLock","catch","err","console","error","handlePointerLockChange","isLocked","pointerLockElement","log","requestFullscreenIfNeeded","fullscreenElement","requestFullscreen","handleEscapeKey","e","key","exitPointerLock","Math","min","toFixed","max","addEventListener","removeEventListener","applyPhysics","prev","damping","velocityX","velocityY","abs","newX","newY","requestAnimationFrame","cancelAnimationFrame","handleMouseMove","now","performance","dt","sensitivity","movementX","movementY","movementMagnitude","sqrt","baseImmediacyFactor","frameRateAdjustment","immediacy","velocityWeight","isNearEdge","directControlFactor","pos","edgeThreshold","initTimer","setTimeout","animateCursor","timestamp","pattern","targetPoint","elapsed","length","previousIndex","previousTarget","nextTarget","progress","easeProgress","easeInOutQuad","targetX","targetY","previousX","previousY","clearTimeout","t","pow","ref","onMouseMove","onClick","top","left","width","height","zIndex","pointerEvents","children","fileName","_jsxFileName","lineNumber","columnNumber","borderRadius","backgroundColor","border","transform","boxShadow","background","color","padding","fontSize","fontWeight","whiteSpace","bottom","textAlign","_c","$RefreshReg$"],"sources":["C:/Users/kheri/Downloads/Bitcamp/bitcamp-2025/Bitcamp25/test-voice/src/FakeCursor.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport SplineScript from './SplineScript';\r\n\r\n// Animation patterns for different talking states\r\nconst TALKING_PATTERNS = {\r\n  normal: [\r\n    { x: 0.5, y: 0.5, duration: 1000 }, // center\r\n    { x: 0.5, y: 0.3, duration: 800 },  // look up\r\n    { x: 0.5, y: 0.5, duration: 700 },  // center\r\n    { x: 0.3, y: 0.5, duration: 900 },  // look left\r\n    { x: 0.5, y: 0.5, duration: 600 },  // center\r\n    { x: 0.7, y: 0.5, duration: 1000 }, // look right\r\n    { x: 0.5, y: 0.5, duration: 700 },  // center\r\n    { x: 0.5, y: 0.7, duration: 800 },  // look down\r\n  ],\r\n  \r\n  nodding: [\r\n    { x: 0.5, y: 0.4, duration: 600 },  // up slightly\r\n    { x: 0.5, y: 0.6, duration: 600 },  // down slightly\r\n    { x: 0.5, y: 0.4, duration: 600 },  // up slightly\r\n    { x: 0.5, y: 0.6, duration: 600 },  // down slightly\r\n  ],\r\n  \r\n  shaking: [\r\n    { x: 0.4, y: 0.5, duration: 400 },  // left\r\n    { x: 0.6, y: 0.5, duration: 400 },  // right\r\n    { x: 0.4, y: 0.5, duration: 400 },  // left\r\n    { x: 0.6, y: 0.5, duration: 400 },  // right\r\n  ]\r\n};\r\n\r\nconst FakeCursor = () => {\r\n  const [isVisible, setIsVisible] = useState(true);\r\n  const [position, setPosition] = useState({ x: window.innerWidth / 2, y: window.innerHeight / 2 });\r\n  const [isPointerLocked, setIsPointerLocked] = useState(false);\r\n  const [useAutoPattern, setUseAutoPattern] = useState(true);\r\n  const animationFrameRef = useRef(null);\r\n  const patternIndexRef = useRef(0);\r\n  const patternTimeRef = useRef(0);\r\n  const currentPatternRef = useRef('normal');\r\n  const containerRef = useRef(null);\r\n  const mouseSensitivityRef = useRef(1.0); // Default sensitivity\r\n  const lastMovementTimestampRef = useRef(0);\r\n  const mouseDampeningRef = useRef(0.92); // Dampen movement for smoother cursor (0-1)\r\n  const mouseVelocityRef = useRef({ x: 0, y: 0 }); // Track velocity for smoothing\r\n  \r\n  // Request pointer lock when clicked\r\n  const requestLock = () => {\r\n    if (!isPointerLocked && containerRef.current) {\r\n      try {\r\n        // Style cursor to be invisible immediately\r\n        document.body.style.cursor = 'none';\r\n        // Request pointer lock with proper error handling\r\n        containerRef.current.requestPointerLock().catch(err => {\r\n          console.error(\"Pointer lock failed:\", err);\r\n          // Restore cursor if pointer lock fails\r\n          document.body.style.cursor = 'auto';\r\n        });\r\n      } catch (error) {\r\n        console.error(\"Error requesting pointer lock:\", error);\r\n        document.body.style.cursor = 'auto';\r\n      }\r\n    }\r\n  };\r\n  \r\n  // Handle pointer lock\r\n  useEffect(() => {\r\n    // Apply cursor styles immediately\r\n    if (isPointerLocked) {\r\n      document.body.style.cursor = 'none';\r\n    } else if (!useAutoPattern) {\r\n      document.body.style.cursor = 'auto';\r\n    }\r\n    \r\n    const handlePointerLockChange = () => {\r\n      const isLocked = document.pointerLockElement === containerRef.current;\r\n      setIsPointerLocked(isLocked);\r\n      \r\n      if (isLocked) {\r\n        console.log(\"Pointer locked successfully!\");\r\n        document.body.style.cursor = 'none';\r\n        setUseAutoPattern(false); // Switch to manual control\r\n        mouseVelocityRef.current = { x: 0, y: 0 }; // Reset velocity on lock\r\n      } else {\r\n        console.log(\"Pointer unlocked\");\r\n        // Only show cursor if not in auto pattern mode\r\n        if (!useAutoPattern) {\r\n          document.body.style.cursor = 'auto';\r\n        }\r\n        setUseAutoPattern(true); // Back to auto pattern\r\n      }\r\n    };\r\n    \r\n    // Additional check for fullscreen which may be needed on some browsers\r\n    const requestFullscreenIfNeeded = () => {\r\n      if (!document.fullscreenElement && containerRef.current) {\r\n        containerRef.current.requestFullscreen().catch(err => {\r\n          console.log(\"Fullscreen not available:\", err);\r\n        });\r\n      }\r\n    };\r\n    \r\n    const handleEscapeKey = (e) => {\r\n      if (e.key === 'Escape' && isPointerLocked) {\r\n        document.exitPointerLock();\r\n      } else if (e.key === '+' || e.key === '=') {\r\n        // Increase sensitivity\r\n        mouseSensitivityRef.current = Math.min(mouseSensitivityRef.current + 0.1, 3.0);\r\n        console.log(`Sensitivity increased to ${mouseSensitivityRef.current.toFixed(1)}`);\r\n      } else if (e.key === '-' || e.key === '_') {\r\n        // Decrease sensitivity\r\n        mouseSensitivityRef.current = Math.max(mouseSensitivityRef.current - 0.1, 0.1);\r\n        console.log(`Sensitivity decreased to ${mouseSensitivityRef.current.toFixed(1)}`);\r\n      } else if (e.key === 'f' || e.key === 'F') {\r\n        // Toggle fullscreen which may help with pointer lock\r\n        requestFullscreenIfNeeded();\r\n      }\r\n    };\r\n    \r\n    document.addEventListener('pointerlockchange', handlePointerLockChange);\r\n    document.addEventListener('keydown', handleEscapeKey);\r\n    \r\n    // Initial cursor hiding on mount if autopattern is on\r\n    if (useAutoPattern) {\r\n      document.body.style.cursor = 'none';\r\n    }\r\n    \r\n    return () => {\r\n      document.removeEventListener('pointerlockchange', handlePointerLockChange);\r\n      document.removeEventListener('keydown', handleEscapeKey);\r\n      // Restore cursor on unmount\r\n      document.body.style.cursor = 'auto';\r\n    };\r\n  }, [isPointerLocked, useAutoPattern]);\r\n\r\n  // Apply physics-based smoothing to cursor movement when in manual mode\r\n  useEffect(() => {\r\n    if (!isPointerLocked) return;\r\n    \r\n    const applyPhysics = () => {\r\n      // Apply velocity with damping\r\n      setPosition(prev => {\r\n        const damping = mouseDampeningRef.current;\r\n        const velocityX = mouseVelocityRef.current.x * damping;\r\n        const velocityY = mouseVelocityRef.current.y * damping;\r\n        \r\n        // Update velocity with damping\r\n        mouseVelocityRef.current = { x: velocityX, y: velocityY };\r\n        \r\n        // Apply velocity if it's significant\r\n        if (Math.abs(velocityX) > 0.01 || Math.abs(velocityY) > 0.01) {\r\n          const newX = Math.max(0, Math.min(window.innerWidth, prev.x + velocityX));\r\n          const newY = Math.max(0, Math.min(window.innerHeight, prev.y + velocityY));\r\n          return { x: newX, y: newY };\r\n        }\r\n        return prev;\r\n      });\r\n      \r\n      animationFrameRef.current = requestAnimationFrame(applyPhysics);\r\n    };\r\n    \r\n    animationFrameRef.current = requestAnimationFrame(applyPhysics);\r\n    \r\n    return () => {\r\n      if (animationFrameRef.current) {\r\n        cancelAnimationFrame(animationFrameRef.current);\r\n      }\r\n    };\r\n  }, [isPointerLocked]);\r\n\r\n  // Handle manual mouse movement when pointer is locked\r\n  const handleMouseMove = (e) => {\r\n    if (isPointerLocked) {\r\n      const now = performance.now();\r\n      const dt = Math.min(now - lastMovementTimestampRef.current, 100); // Cap deltaTime at 100ms\r\n      lastMovementTimestampRef.current = now;\r\n      \r\n      // Apply sensitivity to movement values\r\n      const sensitivity = mouseSensitivityRef.current;\r\n      const movementX = e.movementX * sensitivity;\r\n      const movementY = e.movementY * sensitivity;\r\n      \r\n      // Calculate movement magnitude for adaptive blending\r\n      const movementMagnitude = Math.sqrt(movementX * movementX + movementY * movementY);\r\n      \r\n      // Dynamic immediacy - scales with movement size and framerate\r\n      const baseImmediacyFactor = Math.min(movementMagnitude / 40, 1); // Base factor from 0-1\r\n      const frameRateAdjustment = Math.min(dt / 16.67, 3); // 1.0 at 60fps, higher at lower framerates\r\n      const immediacy = baseImmediacyFactor * (0.3 + (0.7 * (1 / frameRateAdjustment)));\r\n      \r\n      // Apply velocity smoothing with dynamic weighting\r\n      const velocityWeight = Math.max(0.1, Math.min(0.9, 1 - immediacy));\r\n      mouseVelocityRef.current = {\r\n        x: mouseVelocityRef.current.x * velocityWeight + movementX * (1 - velocityWeight),\r\n        y: mouseVelocityRef.current.y * velocityWeight + movementY * (1 - velocityWeight)\r\n      };\r\n      \r\n      // For very fast movements or when cursor is near edges, immediately update some portion\r\n      // of the position for better responsiveness\r\n      if (movementMagnitude > 25 || isNearEdge(position)) {\r\n        // For extremely fast movements, apply more direct control\r\n        const directControlFactor = Math.min(movementMagnitude / 100, 0.8);\r\n        \r\n        setPosition(prev => {\r\n          const newX = Math.max(0, Math.min(window.innerWidth, prev.x + movementX * directControlFactor));\r\n          const newY = Math.max(0, Math.min(window.innerHeight, prev.y + movementY * directControlFactor));\r\n          return { x: newX, y: newY };\r\n        });\r\n      }\r\n    }\r\n  };\r\n  \r\n  // Helper function to detect if cursor is near screen edge\r\n  const isNearEdge = (pos) => {\r\n    const edgeThreshold = 100; // pixels from edge\r\n    return pos.x < edgeThreshold || \r\n           pos.x > window.innerWidth - edgeThreshold || \r\n           pos.y < edgeThreshold || \r\n           pos.y > window.innerHeight - edgeThreshold;\r\n  };\r\n\r\n  // Log component mounting for debugging\r\n  useEffect(() => {\r\n    console.log(\"FakeCursor component mounted\");\r\n    console.log(\"Initial position:\", position);\r\n    \r\n    return () => {\r\n      console.log(\"FakeCursor component unmounted\");\r\n    };\r\n  }, []);\r\n\r\n  // Animate the fake cursor automatically when not pointer locked\r\n  useEffect(() => {\r\n    if (!useAutoPattern) return;\r\n    \r\n    console.log(\"Starting animation loop\");\r\n    setIsVisible(true);\r\n    \r\n    // Wait a bit for Spline to initialize\r\n    const initTimer = setTimeout(() => {\r\n      // Start with a random pattern\r\n      if (!animationFrameRef.current) {\r\n        currentPatternRef.current = 'normal'; // Start with normal pattern\r\n        patternIndexRef.current = 0;\r\n        patternTimeRef.current = 0;\r\n      }\r\n      \r\n      const animateCursor = (timestamp) => {\r\n        if (!useAutoPattern) return;\r\n        \r\n        if (!patternTimeRef.current) {\r\n          patternTimeRef.current = timestamp;\r\n        }\r\n        \r\n        const pattern = TALKING_PATTERNS[currentPatternRef.current];\r\n        const targetPoint = pattern[patternIndexRef.current];\r\n        const elapsed = timestamp - patternTimeRef.current;\r\n        \r\n        if (elapsed >= targetPoint.duration) {\r\n          // Move to next point in pattern\r\n          patternIndexRef.current = (patternIndexRef.current + 1) % pattern.length;\r\n          \r\n          // Change patterns occasionally\r\n          if (patternIndexRef.current === 0) {\r\n            // Cycle through patterns in a fixed order\r\n            if (currentPatternRef.current === 'normal') {\r\n              currentPatternRef.current = 'nodding';\r\n            } else if (currentPatternRef.current === 'nodding') {\r\n              currentPatternRef.current = 'shaking';\r\n            } else {\r\n              currentPatternRef.current = 'normal';\r\n            }\r\n            console.log(\"Changed to pattern:\", currentPatternRef.current);\r\n          }\r\n          \r\n          patternTimeRef.current = timestamp;\r\n        }\r\n        \r\n        // Calculate current position based on pattern\r\n        const previousIndex = patternIndexRef.current === 0 ? pattern.length - 1 : patternIndexRef.current - 1;\r\n        const previousTarget = pattern[previousIndex];\r\n        const nextTarget = pattern[patternIndexRef.current];\r\n        const progress = Math.min(elapsed / nextTarget.duration, 1);\r\n        \r\n        // Apply easing for smoother movement\r\n        const easeProgress = easeInOutQuad(progress);\r\n        \r\n        // Calculate new position\r\n        const targetX = window.innerWidth * nextTarget.x;\r\n        const targetY = window.innerHeight * nextTarget.y;\r\n        const previousX = window.innerWidth * previousTarget.x;\r\n        const previousY = window.innerHeight * previousTarget.y;\r\n        \r\n        const newX = previousX + (targetX - previousX) * easeProgress;\r\n        const newY = previousY + (targetY - previousY) * easeProgress;\r\n        \r\n        setPosition({\r\n          x: newX,\r\n          y: newY\r\n        });\r\n        \r\n        animationFrameRef.current = requestAnimationFrame(animateCursor);\r\n      };\r\n      \r\n      animationFrameRef.current = requestAnimationFrame(animateCursor);\r\n    }, 1000); // Wait 1 second before starting the animation\r\n    \r\n    return () => {\r\n      clearTimeout(initTimer);\r\n      if (animationFrameRef.current) {\r\n        cancelAnimationFrame(animationFrameRef.current);\r\n        animationFrameRef.current = null;\r\n        console.log(\"Animation loop stopped\");\r\n      }\r\n    };\r\n  }, [useAutoPattern]); // Now depends on useAutoPattern\r\n\r\n  // Easing function for smoother animation\r\n  const easeInOutQuad = (t) => {\r\n    return t < 0.5 ? 2 * t * t : 1 - Math.pow(-2 * t + 2, 2) / 2;\r\n  };\r\n\r\n  return (\r\n    <div \r\n      ref={containerRef}\r\n      onMouseMove={handleMouseMove}\r\n      onClick={requestLock}\r\n      style={{ \r\n        position: 'fixed', \r\n        top: 0, \r\n        left: 0, \r\n        width: '100%', \r\n        height: '100%', \r\n        zIndex: 1000,\r\n        pointerEvents: isPointerLocked ? 'auto' : 'none'\r\n      }}\r\n    >\r\n      {/* Add the SplineScript component which will directly inject a script to control Spline cursor */}\r\n      <SplineScript position={position} />\r\n      \r\n      {/* Visible cursor */}\r\n      <div \r\n        style={{\r\n          position: 'fixed',\r\n          left: position.x,\r\n          top: position.y,\r\n          width: '50px',\r\n          height: '50px',\r\n          borderRadius: '50%',\r\n          backgroundColor: 'rgba(255, 0, 0, 0.8)',\r\n          border: '3px solid white',\r\n          transform: 'translate(-50%, -50%)',\r\n          pointerEvents: 'none',\r\n          zIndex: 9999,\r\n          boxShadow: '0 0 20px rgba(255, 0, 0, 1)'\r\n        }}\r\n      >\r\n        <div style={{ \r\n          position: 'absolute', \r\n          top: '55px', \r\n          left: '50%', \r\n          transform: 'translateX(-50%)',\r\n          background: 'black',\r\n          color: 'white',\r\n          padding: '5px 10px',\r\n          borderRadius: '5px',\r\n          fontSize: '14px',\r\n          fontWeight: 'bold',\r\n          whiteSpace: 'nowrap'\r\n        }}>\r\n          {isPointerLocked ? `MANUAL (${mouseSensitivityRef.current.toFixed(1)}x)` : currentPatternRef.current + ' - AUTO'}\r\n        </div>\r\n        <div style={{\r\n          position: 'absolute',\r\n          width: '10px',\r\n          height: '10px',\r\n          background: 'white',\r\n          borderRadius: '50%',\r\n          top: '50%',\r\n          left: '50%',\r\n          transform: 'translate(-50%, -50%)'\r\n        }} />\r\n      </div>\r\n      \r\n      {/* Instructions overlay when not pointer locked */}\r\n      {!isPointerLocked && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          bottom: '20px',\r\n          left: '50%',\r\n          transform: 'translateX(-50%)',\r\n          backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n          color: 'white',\r\n          padding: '10px 20px',\r\n          borderRadius: '5px',\r\n          textAlign: 'center',\r\n          zIndex: 9998\r\n        }}>\r\n          Click anywhere to take manual control of the cursor\r\n        </div>\r\n      )}\r\n      \r\n      {/* Controls help when pointer is locked */}\r\n      {isPointerLocked && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          bottom: '20px',\r\n          left: '50%',\r\n          transform: 'translateX(-50%)',\r\n          backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n          color: 'white',\r\n          padding: '10px 20px',\r\n          borderRadius: '5px',\r\n          textAlign: 'center',\r\n          zIndex: 9998,\r\n          fontSize: '14px'\r\n        }}>\r\n          <strong>Controls:</strong> Press ESC to exit | +/- to adjust sensitivity\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FakeCursor; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}